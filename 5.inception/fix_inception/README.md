<br>
<br>

# **Inception (2022.10 - 2022.11)*

<br>
<br>

> ## 프로젝트 소개

이 프로젝트는 도커를 사용하여 시스템 관리에 대한 지식을 넓히는 것을 목표로 합니다.   
여러 도커 이미지를 가상화하여 새 개인 가상 시스템에 생성합니다

###      
### 목표
nginx, wordpress, mariadb를 운영하는 세개의 도커 컨테이너를 만들고    
컨테이너를 한꺼번에 관리할 수 있는 docker-compose를 이용해서 하나의 서비스를 만들어보자


### 결과
<img width="458" alt="스크린샷 2023-07-20 오전 12 48 40" src="https://github.com/Jung-Off/42/assets/33520938/35908c39-0d78-4bde-959a-677d40b55521">

<br>
<br>
<br>


> ## 사용 기술 스택

docker, docker compose, makefile, shell script
<br>
<br>
<br>

> ## 어려웠던 점

- 도커와 pid 1의 관계

  도커는 신호를 사용하여 컨테이너 내부의 프로세스와 통신, 컨테이너를 종료하기 위해 사용   
  리눅스 신호는 컨테이너 내부의 프로세스 수명 주기를 제어하는 주요방법   
  컨테이너 내부에 pid 1이 있는 프로세스에만 신호를 보낼 수 있다.   
  컨테이너에서 실행된 첫 번째 프로세스는 pid 1   
  
  cmd나 entrypoint를 사용해 프로세스를 실행하면 리눅스 커널이 신호를 처리할 수 있게 된다   
  하지만 환경을 준비하기 위해 shell script를 사용하는 경우도 있는데 이 경우에는 shell script가 pid 1을 가지기 때문에   
  exec 명령어를 사용해 shell에서 process를 실행하고 process에게 pid 1이 상속되게끔 해야됨   

  이 부분 때문에 컨테이너가 자동으로 종료가 되는 문제가 발생했었음!   


> ## 배운 점 & 아쉬운 점

### 배운점

-   도커와 시스템 관리에 대한 지식에 대해 상당히 많은 것을 배우게 되었다
-   shell script를 통해서 이런식으로 자동화를 할 수 있구나 라는 새로운 세계에 눈을 뜨게 되었다

### 아쉬운점

-   구성파일이나 디테일한 부분에 대해서 지식이 부족해서 이 과제를 주도적으로 마무리 하지 못하였다는 것!   

<br>
