<br>
<br>

# **Inception (2022.10 - 2022.11)*

<br>
<br>

> ## 프로젝트 소개
     
### 목표
여러개의 도커 이미지를 가상화하여 새로운 개인 가상 시스템에 생성해보고, 도커를 사용한 시스템 관리에 대한 지식을 넓혀보자!
<br>
nginx, wordpress, mariadb를 각각 운영하는 세개의 도커 컨테이너를 만들고    
컨테이너들을 한 번에 관리할 수 있는 docker-compose를 이용해서 하나의 서비스를 만들어보자


### 결과
<img width="458" alt="스크린샷 2023-07-20 오전 12 48 40" src="https://github.com/Jung-Off/42/assets/33520938/35908c39-0d78-4bde-959a-677d40b55521">

<br>
<br>
<br>

<br>

> ## 사용 기술 스택

docker, docker compose, makefile, shell script
<br>
<br>
<br>

> ## 어려웠던 점

- 도커와 pid 1의 관계
  도커는 컨테이너 리눅스 신호를 사용해 컨테이너 내부의 프로세스를 제어(통신, 종료)하기 위해 사용한다.
  컨테이너 내부의 프로세스 중 첫번째 실행된 프로세스는 pid 1을 가지며, 도커는 pid 1을 가지는 프로세스에만 신호를 보낼 수 있다.
  

  이러한 특징때문에 컨테이너 자동으로 종료되는 문제가 발생했고, 문제가 되는 경우를 파악하고 해결방안을 모색했다.

  <br>
  
  ### **linux 커널이 신호를 처리하는 경우**
     - 실행된 프로세스가 pid 1을 가지게끔 cmd나 entrypoint를 사용해 프로세스를 실행하면, 리눅스 커널이 신호를 처리할 수 있게 된다.   
     - 시스템 환경 구성 시 shell script를 사용하는 경우에는 shell script가 pid 1을 가지기 때문에 exec 명령어를 사용해 shell에서 process를 실행하고 
        process에게 pid 1이 상속되게끔 해야된다  
      
<br>
<br>
<br>


> ## 배운 점 & 아쉬운 점

### 배운점

-   도커의 개념과 도커 컴포즈 작동방식
-   시스템 관리 방법
-   config 파일을 사용한 컨테이너 환경 설정
-   shell script를 사용한 자동화

### 아쉬운점

-   config 파일에 대한 지식이 생소해 과제를 목표 기한을 초과해 마무리한 점

<br>
